
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../how_to/file_conversion/">
      
      
        <link rel="next" href="../traces_table/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.43">
    
    
      
        <title>Trace - Trace</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#trace" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Trace" class="md-header__button md-logo" aria-label="Trace" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Trace
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Trace
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/slaclab/trace" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    slaclab/trace
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../how_to/overview/" class="md-tabs__link">
          
  
    
  
  How To

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
    
  
  API Reference

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Trace" class="md-nav__button md-logo" aria-label="Trace" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Trace
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/slaclab/trace" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    slaclab/trace
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    How To
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            How To
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how_to/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how_to/traces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Traces
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how_to/traces_table_menu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Traces Table Menu
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how_to/axes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Axes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how_to/plot_config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plot Config
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how_to/io/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Import/Export
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how_to/file_conversion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Convert Save Files
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Trace
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Trace
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#arguments-and-macros" class="md-nav__link">
    <span class="md-ellipsis">
      Arguments and Macros
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#main" class="md-nav__link">
    <span class="md-ellipsis">
      main
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#main.LoggingHandler" class="md-nav__link">
    <span class="md-ellipsis">
      LoggingHandler
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LoggingHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#main.LoggingHandler.emit" class="md-nav__link">
    <span class="md-ellipsis">
      emit
    </span>
  </a>
  
    <nav class="md-nav" aria-label="emit">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#main.LoggingHandler.emit--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#main.TraceDisplay" class="md-nav__link">
    <span class="md-ellipsis">
      TraceDisplay
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TraceDisplay">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#main.TraceDisplay.configure_app" class="md-nav__link">
    <span class="md-ellipsis">
      configure_app
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main.TraceDisplay.git_version" class="md-nav__link">
    <span class="md-ellipsis">
      git_version
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main.TraceDisplay.menu_items" class="md-nav__link">
    <span class="md-ellipsis">
      menu_items
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main.TraceDisplay.parse_macros_and_args" class="md-nav__link">
    <span class="md-ellipsis">
      parse_macros_and_args
    </span>
  </a>
  
    <nav class="md-nav" aria-label="parse_macros_and_args">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#main.TraceDisplay.parse_macros_and_args--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main.TraceDisplay.parse_macros_and_args--returns" class="md-nav__link">
    <span class="md-ellipsis">
      Returns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main.TraceDisplay.resetPlot" class="md-nav__link">
    <span class="md-ellipsis">
      resetPlot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main.TraceDisplay.set_footer" class="md-nav__link">
    <span class="md-ellipsis">
      set_footer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main.TraceDisplay.set_plot_timerange" class="md-nav__link">
    <span class="md-ellipsis">
      set_plot_timerange
    </span>
  </a>
  
    <nav class="md-nav" aria-label="set_plot_timerange">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#main.TraceDisplay.set_plot_timerange--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../traces_table/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Traces Table
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../axis_table/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Axis Table
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../plot_config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plot Config
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#arguments-and-macros" class="md-nav__link">
    <span class="md-ellipsis">
      Arguments and Macros
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#main" class="md-nav__link">
    <span class="md-ellipsis">
      main
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#main.LoggingHandler" class="md-nav__link">
    <span class="md-ellipsis">
      LoggingHandler
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LoggingHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#main.LoggingHandler.emit" class="md-nav__link">
    <span class="md-ellipsis">
      emit
    </span>
  </a>
  
    <nav class="md-nav" aria-label="emit">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#main.LoggingHandler.emit--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#main.TraceDisplay" class="md-nav__link">
    <span class="md-ellipsis">
      TraceDisplay
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TraceDisplay">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#main.TraceDisplay.configure_app" class="md-nav__link">
    <span class="md-ellipsis">
      configure_app
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main.TraceDisplay.git_version" class="md-nav__link">
    <span class="md-ellipsis">
      git_version
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main.TraceDisplay.menu_items" class="md-nav__link">
    <span class="md-ellipsis">
      menu_items
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main.TraceDisplay.parse_macros_and_args" class="md-nav__link">
    <span class="md-ellipsis">
      parse_macros_and_args
    </span>
  </a>
  
    <nav class="md-nav" aria-label="parse_macros_and_args">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#main.TraceDisplay.parse_macros_and_args--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main.TraceDisplay.parse_macros_and_args--returns" class="md-nav__link">
    <span class="md-ellipsis">
      Returns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main.TraceDisplay.resetPlot" class="md-nav__link">
    <span class="md-ellipsis">
      resetPlot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main.TraceDisplay.set_footer" class="md-nav__link">
    <span class="md-ellipsis">
      set_footer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main.TraceDisplay.set_plot_timerange" class="md-nav__link">
    <span class="md-ellipsis">
      set_plot_timerange
    </span>
  </a>
  
    <nav class="md-nav" aria-label="set_plot_timerange">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#main.TraceDisplay.set_plot_timerange--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="trace">Trace</h1>
<p>The main startup file for trace.</p>
<p>This file can be launched directly from PyDM: <code>pydm trace/main.py</code></p>
<h2 id="arguments-and-macros">Arguments and Macros</h2>
<p>Arguments and macros are parsed in this file. Valid arguments include:
- -h, --help:
    - Show the help message
- -V, --version:
    - Show the current version of trace
- -i INPUT_FILE, --input_file INPUT_FILE:
    - File path to import from
    - Alternatively can be passed as INPUT_FILE macro
    - e.g. <code>pydm trace/main.py -i trace/examples/FormulaExample.trc</code>
- -p PV1 PV2 ..., --pvs PV1 PV2 ...:
    - List of PVs to show on startup
    - Alternatively can be passed as PV or PVS macros
    - Takes string(s) representing the channels to connect to
    - e.g. <code>pydm trace/main.py -p FOO:BAR:CHANNEL SOME:OTHER:CHANNEL</code>
- -m MACRO, --macro MACRO:
    -  Mimic PyDM macro replacements to use
    - Examples:
        - <code>pydm trace/main.py -m '{"PVS": ["FOO:BAR:CHANNEL", "SOME:OTHER:CHANNEL"]}'</code>
        - <code>pydm trace/main.py -m "INPUT_FILE = trace/examples/FormulaExample.trc"</code></p>


<div class="doc doc-object doc-module">



<a id="main"></a>
    <div class="doc doc-contents first">








  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="main.LoggingHandler" class="doc doc-heading">
            <code>LoggingHandler</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="logging.Handler">Handler</span></code></p>







              <details class="quote">
                <summary>Source code in <code>trace/main.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">LoggingHandler</span><span class="p">(</span><span class="n">Handler</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">logging_lbl</span><span class="p">:</span> <span class="n">QLabel</span><span class="p">,</span> <span class="n">level</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logging_lbl</span> <span class="o">=</span> <span class="n">logging_lbl</span>

    <span class="k">def</span> <span class="nf">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">:</span> <span class="n">LogRecord</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Any logs from the logger will be displayed on the logging label. If</span>
<span class="sd">        the log level is greater than 20 (INFO), then the level will be shown as</span>
<span class="sd">        well. Also checks if the logging label has been deleted.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        record : LogRecord</span>
<span class="sd">            The logger&#39;s log record.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">isdeleted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">logging_lbl</span><span class="p">):</span>
            <span class="k">return</span>
        <span class="n">log</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">msg</span>
        <span class="k">if</span> <span class="n">record</span><span class="o">.</span><span class="n">levelno</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">:</span>
            <span class="n">log</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;[</span><span class="si">{</span><span class="n">record</span><span class="o">.</span><span class="n">levelname</span><span class="si">}</span><span class="s2">] - </span><span class="si">{</span><span class="n">log</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logging_lbl</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">log</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="main.LoggingHandler.emit" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">emit</span><span class="p">(</span><span class="n">record</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Any logs from the logger will be displayed on the logging label. If
the log level is greater than 20 (INFO), then the level will be shown as
well. Also checks if the logging label has been deleted.</p>
<h5 id="main.LoggingHandler.emit--parameters">Parameters</h5>
<p>record : LogRecord
    The logger's log record.</p>

            <details class="quote">
              <summary>Source code in <code>trace/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">:</span> <span class="n">LogRecord</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Any logs from the logger will be displayed on the logging label. If</span>
<span class="sd">    the log level is greater than 20 (INFO), then the level will be shown as</span>
<span class="sd">    well. Also checks if the logging label has been deleted.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    record : LogRecord</span>
<span class="sd">        The logger&#39;s log record.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">isdeleted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">logging_lbl</span><span class="p">):</span>
        <span class="k">return</span>
    <span class="n">log</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">msg</span>
    <span class="k">if</span> <span class="n">record</span><span class="o">.</span><span class="n">levelno</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">:</span>
        <span class="n">log</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;[</span><span class="si">{</span><span class="n">record</span><span class="o">.</span><span class="n">levelname</span><span class="si">}</span><span class="s2">] - </span><span class="si">{</span><span class="n">log</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">logging_lbl</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">log</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="main.TraceDisplay" class="doc doc-heading">
            <code>TraceDisplay</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydm.Display">Display</span></code>, <code><a class="autorefs autorefs-internal" title="mixins.TracesTableMixin" href="../traces_table/#mixins.traces_table.TracesTableMixin">TracesTableMixin</a></code>, <code><a class="autorefs autorefs-internal" title="mixins.AxisTableMixin" href="../axis_table/#mixins.axis_table.AxisTableMixin">AxisTableMixin</a></code>, <code><span title="mixins.FileIOMixin">FileIOMixin</span></code>, <code><a class="autorefs autorefs-internal" title="mixins.PlotConfigMixin" href="../plot_config/#mixins.plot_config.PlotConfigMixin">PlotConfigMixin</a></code></p>







              <details class="quote">
                <summary>Source code in <code>trace/main.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">TraceDisplay</span><span class="p">(</span><span class="n">Display</span><span class="p">,</span> <span class="n">TracesTableMixin</span><span class="p">,</span> <span class="n">AxisTableMixin</span><span class="p">,</span> <span class="n">FileIOMixin</span><span class="p">,</span> <span class="n">PlotConfigMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">macros</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ui_filename</span><span class="o">=</span><span class="vm">__file__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.py&quot;</span><span class="p">,</span> <span class="s2">&quot;.ui&quot;</span><span class="p">))</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TraceDisplay</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="n">args</span><span class="p">,</span> <span class="n">macros</span><span class="o">=</span><span class="n">macros</span><span class="p">,</span> <span class="n">ui_filename</span><span class="o">=</span><span class="n">ui_filename</span><span class="p">)</span>
        <span class="c1"># Set up PyDMApplication</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">configure_app</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_footer</span><span class="p">()</span>

        <span class="c1"># Initialize the Mixins</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axis_table_init</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">traces_table_init</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_config_init</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_io_init</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">curve_delegates_init</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axis_delegates_init</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timespan</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axis_table_model</span><span class="o">.</span><span class="n">reset_everything</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resetPlot</span><span class="p">)</span>
        <span class="c1"># Create reference dict for timespan_btns button group</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_spans</span> <span class="o">=</span> <span class="p">{</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">half_min_scale_btn</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">min_scale_btn</span><span class="p">:</span> <span class="mi">60</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">hour_scale_btn</span><span class="p">:</span> <span class="mi">3600</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">week_scale_btn</span><span class="p">:</span> <span class="mi">604800</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">month_scale_btn</span><span class="p">:</span> <span class="mi">2628300</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cursor_scale_btn</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">timespan_btns</span><span class="o">.</span><span class="n">buttonToggled</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">set_plot_timerange</span><span class="p">)</span>

        <span class="c1"># Toggle &quot;Cursor&quot; button on plot-mouse interaction</span>
        <span class="n">multi_axis_plot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">main_plot</span><span class="o">.</span><span class="n">plotItem</span>
        <span class="n">multi_axis_plot</span><span class="o">.</span><span class="n">vb</span><span class="o">.</span><span class="n">menu</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">multi_axis_plot</span><span class="o">.</span><span class="n">sigXRangeChangedManually</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cursor_scale_btn</span><span class="o">.</span><span class="n">toggle</span><span class="p">)</span>

        <span class="c1"># Parse macros &amp; arguments, then include them in startup</span>
        <span class="n">input_file</span><span class="p">,</span> <span class="n">startup_pvs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_macros_and_args</span><span class="p">(</span><span class="n">macros</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">input_file</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">import_save_file</span><span class="p">(</span><span class="n">input_file</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">pv</span> <span class="ow">in</span> <span class="n">startup_pvs</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">pv</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">curves_model</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">last_row</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">curves_model</span><span class="o">.</span><span class="n">rowCount</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">curves_model</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">last_row</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">curves_model</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">pv</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">EditRole</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">menu_items</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add export &amp; import functionality to File menu&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;Export&quot;</span><span class="p">:</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">export_save_file</span><span class="p">,</span> <span class="s2">&quot;Ctrl+S&quot;</span><span class="p">),</span> <span class="s2">&quot;Import&quot;</span><span class="p">:</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">import_save_file</span><span class="p">,</span> <span class="s2">&quot;Ctrl+L&quot;</span><span class="p">)}</span>

    <span class="k">def</span> <span class="nf">configure_app</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;UI changes to be made to the PyDMApplication&quot;&quot;&quot;</span>
        <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">app</span><span class="o">.</span><span class="n">main_window</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="c1"># Hide navigation bar by default (can be shown in menu bar)</span>
        <span class="n">app</span><span class="o">.</span><span class="n">main_window</span><span class="o">.</span><span class="n">toggle_nav_bar</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">app</span><span class="o">.</span><span class="n">main_window</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">actionShow_Navigation_Bar</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="c1"># Hide status bar by default (can be shown in menu bar)</span>
        <span class="n">app</span><span class="o">.</span><span class="n">main_window</span><span class="o">.</span><span class="n">toggle_status_bar</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">app</span><span class="o">.</span><span class="n">main_window</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">actionShow_Status_Bar</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="c1"># Add style to center checkboxes in table cells</span>
        <span class="n">app</span><span class="o">.</span><span class="n">setStyle</span><span class="p">(</span><span class="n">CenterCheckStyle</span><span class="p">())</span>

        <span class="c1"># Adjust settings for main_spltr</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">main_spltr</span><span class="o">.</span><span class="n">setSizes</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">200</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">main_spltr</span><span class="o">.</span><span class="n">setCollapsible</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">main_spltr</span><span class="o">.</span><span class="n">setStretchFactor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_footer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set footer information for application. Includes logging, nodename,</span>
<span class="sd">        username, PID, git version, Archiver URL, and current datetime</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logging_handler</span> <span class="o">=</span> <span class="n">LoggingHandler</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">ftr_logging_lbl</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">logging_handler</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="s2">&quot;NOTSET&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">ftr_ver_lbl</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">git_version</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">ftr_node_lbl</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">gethostname</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">ftr_user_lbl</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">getuser</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">ftr_pid_lbl</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getpid</span><span class="p">()))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">ftr_url_lbl</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;PYDM_ARCHIVER_URL&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">ftr_time_lbl</span><span class="o">.</span><span class="n">channel</span> <span class="o">=</span> <span class="s2">&quot;ca://&quot;</span> <span class="o">+</span> <span class="n">datetime_pv</span>

    <span class="k">def</span> <span class="nf">parse_macros_and_args</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">macros</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">]],</span> <span class="n">args</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parse user provided macros and args into lists of PVs to use on</span>
<span class="sd">        startup or which file to import on startup</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        macros : Dict[str, str | list]</span>
<span class="sd">            Dictionary containing all of the macros passed into PyDM</span>
<span class="sd">        args : List[str]</span>
<span class="sd">            List of all arguments passed into the application to be parsed</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tuple</span>
<span class="sd">            A tuple containing the file to import from and the list of PVs to use on startup</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Default macros is None</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">macros</span><span class="p">:</span>
            <span class="n">macros</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># Construct an argument parser for args</span>
        <span class="n">trace_parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span>
            <span class="n">prog</span><span class="o">=</span><span class="s2">&quot;trace&quot;</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Trace</span><span class="se">\n</span><span class="s2">This is a PyDM application used to display archived and live pv data.&quot;</span><span class="p">,</span>
            <span class="n">epilog</span><span class="o">=</span><span class="s2">&quot;Examples:</span><span class="se">\n\t</span><span class="s2">pydm $PHYSICS_TOP/trace/main.py&quot;</span>
            <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">bash $PHYSICS_TOP/trace/launch_trace.bash&quot;</span>
            <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\t</span><span class="si">%(prog)s</span><span class="s2">&quot;</span>
            <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\t</span><span class="si">%(prog)s</span><span class="s2"> -i some_input_file.trc&quot;</span>
            <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\t</span><span class="si">%(prog)s</span><span class="s2"> -p SOME:PV:TO:PLOT OTHER:PV:TO:PLOT&quot;</span>
            <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n\t</span><span class="si">%(prog)s</span><span class="s1"> -m </span><span class="se">\&#39;</span><span class="s1">{&quot;PVS&quot;: [&quot;FOO:CHANNEL&quot;, &quot;BAR:CHANNEL&quot;, &quot;f://</span><span class="si">{A}</span><span class="s1">+</span><span class="si">{B}</span><span class="s1">&quot;]}</span><span class="se">\&#39;</span><span class="s1">&#39;</span>
            <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n\t</span><span class="si">%(prog)s</span><span class="s1"> -m &quot;INPUT_FILE = trace/examples/FormulaExample.trc&quot;&#39;</span><span class="p">,</span>
            <span class="n">formatter_class</span><span class="o">=</span><span class="n">argparse</span><span class="o">.</span><span class="n">RawTextHelpFormatter</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">trace_parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;-V&quot;</span><span class="p">,</span> <span class="s2">&quot;--version&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;version&quot;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">%(prog)s</span><span class="s2"> &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">git_version</span><span class="p">())</span>
        <span class="n">trace_parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
            <span class="s2">&quot;-i&quot;</span><span class="p">,</span>
            <span class="s2">&quot;--input_file&quot;</span><span class="p">,</span>
            <span class="n">action</span><span class="o">=</span><span class="n">PathAction</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Absolute file path to import from</span><span class="se">\n</span><span class="s2">Alternatively can be provided as INPUT_FILE macro&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">trace_parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
            <span class="s2">&quot;-p&quot;</span><span class="p">,</span>
            <span class="s2">&quot;--pvs&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
            <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="p">[],</span>
            <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Space-separated list of PVs to show on startup</span><span class="se">\n</span><span class="s2">Formulas should be passed without spaces: &quot;</span>
            <span class="o">+</span> <span class="s2">&quot;f://</span><span class="si">{A}</span><span class="s2">+</span><span class="si">{B}</span><span class="se">\n</span><span class="s2">Alternatively can be provided as PV or PVS macros&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">trace_parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
            <span class="s2">&quot;-m&quot;</span><span class="p">,</span>
            <span class="s2">&quot;--macro&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Mimic PyDM macro replacements to use. Should be in JSON object format.&quot;</span>
            <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">JSON Formatting Reminder:&quot;</span>
            <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">JSON requires double quotes for strings, so you should wrap this&quot;</span>
            <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">whole argument in single quotes.</span><span class="se">\n\t</span><span class="s2">--or--&quot;</span>
            <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">Specify macro replacements as KEY=value pairs using a comma as a&quot;</span>
            <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">delimiter. If you want to uses spaces after the delimiters or around&quot;</span>
            <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">the &#39;=&#39; signs, wrap the entire set with quotes.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Parse arguments and ignore unknowns</span>
        <span class="n">trace_args</span><span class="p">,</span> <span class="n">unknown</span> <span class="o">=</span> <span class="n">trace_parser</span><span class="o">.</span><span class="n">parse_known_args</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">unknown</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">u</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Not using unknown arguments: </span><span class="si">{</span><span class="n">u</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Parse any macros passed into trace</span>
        <span class="k">if</span> <span class="n">trace_args</span><span class="o">.</span><span class="n">macro</span><span class="p">:</span>
            <span class="n">parsed_macros</span> <span class="o">=</span> <span class="n">parse_macro_string</span><span class="p">(</span><span class="n">trace_args</span><span class="o">.</span><span class="n">macro</span><span class="p">)</span>
            <span class="n">macros</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">parsed_macros</span><span class="p">)</span>

        <span class="c1"># Get the file to import from if one is provided. Prioritize args over macro</span>
        <span class="n">input_file</span> <span class="o">=</span> <span class="n">trace_args</span><span class="o">.</span><span class="n">input_file</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">input_file</span> <span class="ow">and</span> <span class="s2">&quot;INPUT_FILE&quot;</span> <span class="ow">in</span> <span class="n">macros</span><span class="p">:</span>
            <span class="n">input_file</span> <span class="o">=</span> <span class="n">macros</span><span class="p">[</span><span class="s2">&quot;INPUT_FILE&quot;</span><span class="p">]</span>

        <span class="c1"># Get the list of PVs to show on startup</span>
        <span class="n">startup_pvs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;PV&quot;</span><span class="p">,</span> <span class="s2">&quot;PVS&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">macros</span><span class="p">:</span>
                <span class="n">val</span> <span class="o">=</span> <span class="n">macros</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="n">startup_pvs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
                <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                    <span class="n">startup_pvs</span> <span class="o">+=</span> <span class="n">val</span>
        <span class="n">startup_pvs</span> <span class="o">+=</span> <span class="n">trace_args</span><span class="o">.</span><span class="n">pvs</span>

        <span class="c1"># Remove duplicates from startup_pvs</span>
        <span class="n">startup_pvs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">startup_pvs</span><span class="p">))</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">input_file</span><span class="p">,</span> <span class="n">startup_pvs</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">git_version</span><span class="p">():</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the current git tag for the project&quot;&quot;&quot;</span>
        <span class="n">project_directory</span> <span class="o">=</span> <span class="vm">__file__</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">git_cmd</span> <span class="o">=</span> <span class="n">run</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;cd </span><span class="si">{</span><span class="n">project_directory</span><span class="si">}</span><span class="s2"> &amp;&amp; git describe --tags&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">capture_output</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">git_cmd</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

    <span class="nd">@Slot</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">resetPlot</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Reset the Axis model and the Curve model to empty states&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axis_table_model</span><span class="o">.</span><span class="n">set_model_axes</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curves_model</span><span class="o">.</span><span class="n">set_model_curves</span><span class="p">()</span>

    <span class="nd">@Slot</span><span class="p">(</span><span class="n">QAbstractButton</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">set_plot_timerange</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">button</span><span class="p">:</span> <span class="n">QAbstractButton</span><span class="p">,</span> <span class="n">toggled</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Slot to be called when a timespan setting button is pressed.</span>
<span class="sd">        This will enable autoscrolling along the x-axis and disable mouse</span>
<span class="sd">        controls. If the &quot;Cursor&quot; button is pressed, then autoscrolling is</span>
<span class="sd">        disabled and mouse controls are enabled.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        button : QAbstractButton</span>
<span class="sd">            The timespan setting button pressed. Determines which timespan</span>
<span class="sd">            to set.</span>
<span class="sd">        toggled : bool</span>
<span class="sd">            Whether or not the associated button is toggled or not.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">toggled</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Setting plot timerange&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">button</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">button_spans</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">button</span><span class="si">}</span><span class="s2"> is not a valid timespan button&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">enable_scroll</span> <span class="o">=</span> <span class="n">button</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cursor_scale_btn</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timespan</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">button_spans</span><span class="p">[</span><span class="n">button</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">enable_scroll</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Enabling plot autoscroll for </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">timespan</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Disabling plot autoscroll, using mouse controls&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">autoScroll</span><span class="p">(</span><span class="n">enable</span><span class="o">=</span><span class="n">enable_scroll</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="main.TraceDisplay.configure_app" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">configure_app</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>UI changes to be made to the PyDMApplication</p>

            <details class="quote">
              <summary>Source code in <code>trace/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">configure_app</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;UI changes to be made to the PyDMApplication&quot;&quot;&quot;</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">app</span><span class="o">.</span><span class="n">main_window</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="c1"># Hide navigation bar by default (can be shown in menu bar)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">main_window</span><span class="o">.</span><span class="n">toggle_nav_bar</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">main_window</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">actionShow_Navigation_Bar</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

    <span class="c1"># Hide status bar by default (can be shown in menu bar)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">main_window</span><span class="o">.</span><span class="n">toggle_status_bar</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">main_window</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">actionShow_Status_Bar</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

    <span class="c1"># Add style to center checkboxes in table cells</span>
    <span class="n">app</span><span class="o">.</span><span class="n">setStyle</span><span class="p">(</span><span class="n">CenterCheckStyle</span><span class="p">())</span>

    <span class="c1"># Adjust settings for main_spltr</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">main_spltr</span><span class="o">.</span><span class="n">setSizes</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">200</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">main_spltr</span><span class="o">.</span><span class="n">setCollapsible</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">main_spltr</span><span class="o">.</span><span class="n">setStretchFactor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="main.TraceDisplay.git_version" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">git_version</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get the current git tag for the project</p>

            <details class="quote">
              <summary>Source code in <code>trace/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">git_version</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the current git tag for the project&quot;&quot;&quot;</span>
    <span class="n">project_directory</span> <span class="o">=</span> <span class="vm">__file__</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">git_cmd</span> <span class="o">=</span> <span class="n">run</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;cd </span><span class="si">{</span><span class="n">project_directory</span><span class="si">}</span><span class="s2"> &amp;&amp; git describe --tags&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">capture_output</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">git_cmd</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="main.TraceDisplay.menu_items" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">menu_items</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Add export &amp; import functionality to File menu</p>

            <details class="quote">
              <summary>Source code in <code>trace/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">menu_items</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Add export &amp; import functionality to File menu&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;Export&quot;</span><span class="p">:</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">export_save_file</span><span class="p">,</span> <span class="s2">&quot;Ctrl+S&quot;</span><span class="p">),</span> <span class="s2">&quot;Import&quot;</span><span class="p">:</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">import_save_file</span><span class="p">,</span> <span class="s2">&quot;Ctrl+L&quot;</span><span class="p">)}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="main.TraceDisplay.parse_macros_and_args" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse_macros_and_args</span><span class="p">(</span><span class="n">macros</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Parse user provided macros and args into lists of PVs to use on
startup or which file to import on startup</p>
<h5 id="main.TraceDisplay.parse_macros_and_args--parameters">Parameters</h5>
<p>macros : Dict[str, str | list]
    Dictionary containing all of the macros passed into PyDM
args : List[str]
    List of all arguments passed into the application to be parsed</p>
<h5 id="main.TraceDisplay.parse_macros_and_args--returns">Returns</h5>
<p>tuple
    A tuple containing the file to import from and the list of PVs to use on startup</p>

            <details class="quote">
              <summary>Source code in <code>trace/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parse_macros_and_args</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">macros</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">]],</span> <span class="n">args</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse user provided macros and args into lists of PVs to use on</span>
<span class="sd">    startup or which file to import on startup</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    macros : Dict[str, str | list]</span>
<span class="sd">        Dictionary containing all of the macros passed into PyDM</span>
<span class="sd">    args : List[str]</span>
<span class="sd">        List of all arguments passed into the application to be parsed</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    tuple</span>
<span class="sd">        A tuple containing the file to import from and the list of PVs to use on startup</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Default macros is None</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">macros</span><span class="p">:</span>
        <span class="n">macros</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># Construct an argument parser for args</span>
    <span class="n">trace_parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span>
        <span class="n">prog</span><span class="o">=</span><span class="s2">&quot;trace&quot;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Trace</span><span class="se">\n</span><span class="s2">This is a PyDM application used to display archived and live pv data.&quot;</span><span class="p">,</span>
        <span class="n">epilog</span><span class="o">=</span><span class="s2">&quot;Examples:</span><span class="se">\n\t</span><span class="s2">pydm $PHYSICS_TOP/trace/main.py&quot;</span>
        <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">bash $PHYSICS_TOP/trace/launch_trace.bash&quot;</span>
        <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\t</span><span class="si">%(prog)s</span><span class="s2">&quot;</span>
        <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\t</span><span class="si">%(prog)s</span><span class="s2"> -i some_input_file.trc&quot;</span>
        <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\t</span><span class="si">%(prog)s</span><span class="s2"> -p SOME:PV:TO:PLOT OTHER:PV:TO:PLOT&quot;</span>
        <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n\t</span><span class="si">%(prog)s</span><span class="s1"> -m </span><span class="se">\&#39;</span><span class="s1">{&quot;PVS&quot;: [&quot;FOO:CHANNEL&quot;, &quot;BAR:CHANNEL&quot;, &quot;f://</span><span class="si">{A}</span><span class="s1">+</span><span class="si">{B}</span><span class="s1">&quot;]}</span><span class="se">\&#39;</span><span class="s1">&#39;</span>
        <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n\t</span><span class="si">%(prog)s</span><span class="s1"> -m &quot;INPUT_FILE = trace/examples/FormulaExample.trc&quot;&#39;</span><span class="p">,</span>
        <span class="n">formatter_class</span><span class="o">=</span><span class="n">argparse</span><span class="o">.</span><span class="n">RawTextHelpFormatter</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">trace_parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;-V&quot;</span><span class="p">,</span> <span class="s2">&quot;--version&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;version&quot;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">%(prog)s</span><span class="s2"> &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">git_version</span><span class="p">())</span>
    <span class="n">trace_parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;-i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--input_file&quot;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="n">PathAction</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Absolute file path to import from</span><span class="se">\n</span><span class="s2">Alternatively can be provided as INPUT_FILE macro&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">trace_parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;-p&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--pvs&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="p">[],</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Space-separated list of PVs to show on startup</span><span class="se">\n</span><span class="s2">Formulas should be passed without spaces: &quot;</span>
        <span class="o">+</span> <span class="s2">&quot;f://</span><span class="si">{A}</span><span class="s2">+</span><span class="si">{B}</span><span class="se">\n</span><span class="s2">Alternatively can be provided as PV or PVS macros&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">trace_parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;-m&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--macro&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Mimic PyDM macro replacements to use. Should be in JSON object format.&quot;</span>
        <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">JSON Formatting Reminder:&quot;</span>
        <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">JSON requires double quotes for strings, so you should wrap this&quot;</span>
        <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">whole argument in single quotes.</span><span class="se">\n\t</span><span class="s2">--or--&quot;</span>
        <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">Specify macro replacements as KEY=value pairs using a comma as a&quot;</span>
        <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">delimiter. If you want to uses spaces after the delimiters or around&quot;</span>
        <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">the &#39;=&#39; signs, wrap the entire set with quotes.&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Parse arguments and ignore unknowns</span>
    <span class="n">trace_args</span><span class="p">,</span> <span class="n">unknown</span> <span class="o">=</span> <span class="n">trace_parser</span><span class="o">.</span><span class="n">parse_known_args</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">unknown</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">u</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Not using unknown arguments: </span><span class="si">{</span><span class="n">u</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Parse any macros passed into trace</span>
    <span class="k">if</span> <span class="n">trace_args</span><span class="o">.</span><span class="n">macro</span><span class="p">:</span>
        <span class="n">parsed_macros</span> <span class="o">=</span> <span class="n">parse_macro_string</span><span class="p">(</span><span class="n">trace_args</span><span class="o">.</span><span class="n">macro</span><span class="p">)</span>
        <span class="n">macros</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">parsed_macros</span><span class="p">)</span>

    <span class="c1"># Get the file to import from if one is provided. Prioritize args over macro</span>
    <span class="n">input_file</span> <span class="o">=</span> <span class="n">trace_args</span><span class="o">.</span><span class="n">input_file</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">input_file</span> <span class="ow">and</span> <span class="s2">&quot;INPUT_FILE&quot;</span> <span class="ow">in</span> <span class="n">macros</span><span class="p">:</span>
        <span class="n">input_file</span> <span class="o">=</span> <span class="n">macros</span><span class="p">[</span><span class="s2">&quot;INPUT_FILE&quot;</span><span class="p">]</span>

    <span class="c1"># Get the list of PVs to show on startup</span>
    <span class="n">startup_pvs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;PV&quot;</span><span class="p">,</span> <span class="s2">&quot;PVS&quot;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">macros</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="n">macros</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">startup_pvs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                <span class="n">startup_pvs</span> <span class="o">+=</span> <span class="n">val</span>
    <span class="n">startup_pvs</span> <span class="o">+=</span> <span class="n">trace_args</span><span class="o">.</span><span class="n">pvs</span>

    <span class="c1"># Remove duplicates from startup_pvs</span>
    <span class="n">startup_pvs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">startup_pvs</span><span class="p">))</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">input_file</span><span class="p">,</span> <span class="n">startup_pvs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="main.TraceDisplay.resetPlot" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">resetPlot</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Reset the Axis model and the Curve model to empty states</p>

            <details class="quote">
              <summary>Source code in <code>trace/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Slot</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">resetPlot</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Reset the Axis model and the Curve model to empty states&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">axis_table_model</span><span class="o">.</span><span class="n">set_model_axes</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">curves_model</span><span class="o">.</span><span class="n">set_model_curves</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="main.TraceDisplay.set_footer" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_footer</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Set footer information for application. Includes logging, nodename,
username, PID, git version, Archiver URL, and current datetime</p>

            <details class="quote">
              <summary>Source code in <code>trace/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">set_footer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set footer information for application. Includes logging, nodename,</span>
<span class="sd">    username, PID, git version, Archiver URL, and current datetime</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">logging_handler</span> <span class="o">=</span> <span class="n">LoggingHandler</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">ftr_logging_lbl</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">logging_handler</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="s2">&quot;NOTSET&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">ftr_ver_lbl</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">git_version</span><span class="p">())</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">ftr_node_lbl</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">gethostname</span><span class="p">())</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">ftr_user_lbl</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">getuser</span><span class="p">())</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">ftr_pid_lbl</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getpid</span><span class="p">()))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">ftr_url_lbl</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;PYDM_ARCHIVER_URL&quot;</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">ftr_time_lbl</span><span class="o">.</span><span class="n">channel</span> <span class="o">=</span> <span class="s2">&quot;ca://&quot;</span> <span class="o">+</span> <span class="n">datetime_pv</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="main.TraceDisplay.set_plot_timerange" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_plot_timerange</span><span class="p">(</span><span class="n">button</span><span class="p">,</span> <span class="n">toggled</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Slot to be called when a timespan setting button is pressed.
This will enable autoscrolling along the x-axis and disable mouse
controls. If the "Cursor" button is pressed, then autoscrolling is
disabled and mouse controls are enabled.</p>
<h5 id="main.TraceDisplay.set_plot_timerange--parameters">Parameters</h5>
<p>button : QAbstractButton
    The timespan setting button pressed. Determines which timespan
    to set.
toggled : bool
    Whether or not the associated button is toggled or not.</p>

            <details class="quote">
              <summary>Source code in <code>trace/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Slot</span><span class="p">(</span><span class="n">QAbstractButton</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">set_plot_timerange</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">button</span><span class="p">:</span> <span class="n">QAbstractButton</span><span class="p">,</span> <span class="n">toggled</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Slot to be called when a timespan setting button is pressed.</span>
<span class="sd">    This will enable autoscrolling along the x-axis and disable mouse</span>
<span class="sd">    controls. If the &quot;Cursor&quot; button is pressed, then autoscrolling is</span>
<span class="sd">    disabled and mouse controls are enabled.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    button : QAbstractButton</span>
<span class="sd">        The timespan setting button pressed. Determines which timespan</span>
<span class="sd">        to set.</span>
<span class="sd">    toggled : bool</span>
<span class="sd">        Whether or not the associated button is toggled or not.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">toggled</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Setting plot timerange&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">button</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">button_spans</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">button</span><span class="si">}</span><span class="s2"> is not a valid timespan button&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">enable_scroll</span> <span class="o">=</span> <span class="n">button</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cursor_scale_btn</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">timespan</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">button_spans</span><span class="p">[</span><span class="n">button</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">enable_scroll</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Enabling plot autoscroll for </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">timespan</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Disabling plot autoscroll, using mouse controls&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">autoScroll</span><span class="p">(</span><span class="n">enable</span><span class="o">=</span><span class="n">enable_scroll</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../../how_to/file_conversion/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Convert Save Files">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Convert Save Files
              </div>
            </div>
          </a>
        
        
          
          <a href="../traces_table/" class="md-footer__link md-footer__link--next" aria-label="Next: Traces Table">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Traces Table
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.top", "navigation.tabs", "navigation.indexes", "navigation.footer"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>